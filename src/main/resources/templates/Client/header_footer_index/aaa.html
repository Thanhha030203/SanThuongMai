<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/Client/index::dynamic(~{::main})}">
<body style="font-family: Lato;">

<main ng-controller="cart_ctrl">
    <script>
        $(document).ready(function () {
            $('#myModal').modal('show'); // Hiển thị modal khi tải trang
        });

        setTimeout(() => {
            $('#myModal').modal('hide');
        }, 1500);
    </script>
    <div class="modal" id="myModal" style="font-family: Lato;">

        <div class="modal-dialog modal-md" style="margin-top: 20px; height: 400px;">
            <div class="modal-content" style="border-radius: 20px;">

                <!-- Modal Header -->
                <div class="modal-header" style="height: 40px;padding: 30px;background-color: #C93F04;border-top-right-radius: 20px;border-top-left-radius: 20px">
                    <h4 class="modal-title fs-6 text-light" id="descrptionTitle">Xin chào</h4>
                    <button type="button" class="btn btn-close" aria-label="Close" data-dismiss="modal"
                            aria-hidden="true" hidden>
                    </button>
                </div>

                <!-- Modal body -->
                <div class="modal-body p-2" style="">
                    <div id="descriptionInfor" class="fs-6 " style="height: 50px;color: black;padding-left: 20px">Xin chào
                        <span th:text="${user.getFullname()}"></span> ,
                        <span>Hi vọng có thời gian mua sắm tuyệt vời tại IBook </span>
                    </div>
                </div>

            </div>
        </div>
    </div>
    </div>
    <br>
    <div class="artical_index">
        <div id="demo" class="carousel slide banner_index" data-bs-ride="carousel" style="width: 100%;">
            <div class="carousel-indicators d-flex">
                <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
                <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
                <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
            </div>

            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img th:src="@{/Client/images/silde1.jpg}" alt="Los Angeles" class="d-block">

                </div>
                <div class="carousel-item">
                    <img th:src="@{/Client/images/silde4.png}" alt="Chicago" class="d-block">
                </div>
                <div class="carousel-item">
                    <img th:src="@{/Client/images/silde2.jpg}" alt="New York" class="d-block">
                </div>
                <div class="carousel-item">
                    <img th:src="@{/Client/images/silde3.jpg}" alt="New York" class="d-block">
                </div>
            </div>


            <button class="carousel-control-prev silde_b" type="button" data-bs-target="#demo" data-bs-slide="prev">
                <span><i style="font-size: 30px;" class="bi bi-chevron-left"></i></span>
            </button>
            <button class="carousel-control-next silde_b" type="button" data-bs-target="#demo" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
            <div class="banner_menu">
                <div class="row">
                    <div class="col-sm-3 banner_menu_item">
                        <div class="d-inline-flex">
                            <div class="p-1"><img th:src="@{/Client/icons/new-boxpng.png}" alt=""
                                                  style="width: 65px; height: 65px; color: #FFF;"></div>
                            <div class="p-1" style="width:120px; height: 60px;"><a
                                    th:href="@{|/product/list|}"><span>SẢN PHẨM MỚI</span></a></div>
                        </div>
                    </div>
                    <div class="col-sm-3 banner_menu_item">
                        <div class="d-inline-flex">
                            <div class="p-1"><img th:src="@{/Client/icons/teaching.png}" alt=""
                                                  style="width: 65px; height: 65px; color: #FFF;"></div>
                            <div class="p-1" style="width:100px; height: 60px;"><a id="4,11,12,13,10"
                                                                                   th:href="@{|/product/list|}"
                                                                                   onclick="angular.element(this).scope().filterChoose1(1,this)"><span>SÁCH GIÁO KHOA</span></a></div>
                        </div>
                    </div>
                    <div class="col-sm-3 banner_menu_item">
                        <div class="d-inline-flex">
                            <div class="p-1"><img th:src="@{/Client/icons/page_variant.png}" alt=""
                                                  style="width: 65px; height: 65px; color: #FFF;"></div>
                            <div class="p-3" style="width:100px; height: 60px;"><a id="5,8,15,6,14"
                                                                                   th:href="@{|/product/list|}"
                                                                                   onclick="angular.element(this).scope().filterChoose1(1,this)"><span>TRUYỆN TRANH</span></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 banner_menu_item">
                        <div class="d-inline-flex">
                            <div class="p-1"><img th:src="@{/Client/icons/book_open_outline.png}" alt=""
                                                  style="width: 65px; height: 65px; color: #FFF;"></div>
                            <div class="p-1" style="width:100px; height: 60px;"><a
                                    id="1,2,3,7,9" th:href="@{|/product/list|}"
                                    onclick="angular.element(this).scope().filterChoose1(1,this)"><span>KHÁC
                                            BOOK</span></a></div>
                        </div>
                    </div>
                </div>

            </div>
            <div style="position: absolute; top: 200px; text-align: center; z-index: 111; left: 44%;"><span
                    style="font-size: 35px; font-weight: 400; color: white;">SẢN PHẨM MỚI</span></div>

            <div style="position: absolute; top: 300px; text-align: center; z-index: 111; left: 17%;"><span
                    style="font-size: 100px; font-weight:normal; color: white; font-family:Georgia, 'Times New Roman', Times, non-serif;">THẾ GIỚI TRONG TỪNG <br> TRANG SÁCH</span></div>
            <div style="position: absolute; top: 590px; text-align: center; z-index: 111; left: 45%;"><span
                    style="font-size: 35px; font-weight: 200; color: white;">BYRON RESSE</span></div>
            <div style="float: left;">
                <button class="shownow">XEM NGAY</button>
            </div>
            <div class="d-inline-flex">
                <div class="p-1"><a><i class="bi bi-play-circle play"
                                       style="font-size: 71px; color: white;"></i></a></div>
                <div class="p-3" style="width:100px; height: 60px; position: absolute; top: 690px; left: 1080px;">
                    <span style="font-size: 20px; font-weight: 300; color: white;"><a href="#"
                                                                                      style="text-decoration: none; color: #FFF;"><span>SÁCH MỚI</span></a></span>
                </div>
            </div>
        </div>
        <div class="my-5" style="margin: auto;">
            <div class="text-center">
                <p style="font-size: 60px; font-family: Aleo; font-weight: 200;">Our Philosophy</p>
            </div>
            <div class="text-center m-auto" style="width: 1086px; height: 414px;">
                <p
                        style="font-size: 30px;font-family: Abel;color: #5E5E5E;">
                    IBook was born to provide an easy, safe and fast experience for users when shopping online
                    through a strong payment and operations support system. IBook believes that the online shopping
                    experience should be simple, easy, and enjoyable for users.</p>
            </div>
        </div>
        <div style="width: 80%; height: 800px; margin: auto; margin-top: -150px;">
            <div class="_box" style="margin-right: 5%;">
                <img th:src="@{/Client/images/_.png}" alt="">
                <div style="float: left;">
                    <form action="">
                        <button th:formaction="@{|/product/list|}" th:method="GET" class="_boxnow">KHÁM PHÁ NGAY</button>
                    </form>
                </div>
                <div style="position: absolute; top: 20px; text-align: left; z-index: 111; left: 30px;">
                    <a style="text-decoration: none;" href="#">
                        <span style="font-size: 18px; font-weight: bold; color: #C93F04;font-family: Lato; ">SẢN PHẨM MỚI</span>
                    </a>
                    <span style="font-size: 3em; font-weight: bold; color: white;"><br>SÁCH<br>KINH DOANH</span>
                </div>
            </div>
            <div class="_box" style="margin-left: 5%;">
                <img th:src="@{/Client/images/langnghe.png}" alt="">
                <div style="float: left;">
                    <form action="">
                        <button th:formaction="@{|/Ibook/shop|}" th:method="GET" class="_boxnow1">CỬA HÀNG NGAY</button>
                    </form>
                </div>
                <div style="position: absolute; bottom: 20px; text-align: left; z-index: 111; left: 40px;">
                    <a style="text-decoration: none;" href="#">
                        <span style="font-size: 18px; font-weight: bold; color: #FDDAB9; font-family: Lato; left: 20px;">SẢN PHẨM MỚI</span>
                    </a>
                    <span style="font-size: 3em; font-weight: bold; color: white;"><br>SÁCH<br>KINH DOANH</span>
                </div>
            </div>
        </div>
        <div class="my-3" style="margin: auto;font-family: Lato">
            <div class="d-flex justify-content-center">
                <ul class="nav nav-pills px-5" role="tablist">
                    <li class="nav-item mx-4">
                        <a class="nav-link active vyBatSua" data-bs-toggle="pill" style="color: black;" href="#home"
                           ng-click="edu(2,2,0)">
                            <div class="d-inline-flex casualMainPage">
                                <div class="casualMainPage"><img th:src="@{/Client/icons/new-boxpng.png}" alt=""
                                                                 style="width: 65px; height: 65px; color: #FFF">
                                </div>
                                <div class="casualMainPage"
                                     style="width:80px; height: 100%; font-weight: 500; font-size: 15px;">

                                    <span style="justify-items: center">SẢN PHẨM MỚI</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item mx-4">
                        <a class="nav-link vyBatSua" data-bs-toggle="pill" style="color: black;" href="#menu1"
                           ng-click="edu(4,2,0)">
                            <div class="d-inline-flex casualMainPage">
                                <div class="casualMainPage"><img th:src="@{/Client/icons/teaching.png}" alt=""
                                                                 style="width: 65px; height: 65px; color: #FFF">
                                </div>
                                <div class="casualMainPage"
                                     style="width:80px; height: 60px; font-weight: 500; font-size: 15px;">
                                        <span style="margin-left: 20px">SÁCH GIÁO KHOA</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item mx-4">
                        <a class="nav-link vyBatSua" data-bs-toggle="pill" style="color: black;" href="#menu2"
                           ng-click="edu(7,2,0)">
                            <div class="d-inline-flex casualMainPage">
                                <div class="casualMainPage"><img th:src="@{/Client/icons/page_variant.png}" alt=""
                                                                 style="width: 65px; height: 65px; color: #FFF">
                                </div>
                                <div class="casualMainPage"
                                     style="width:60px; height: 60px; font-weight: 500; font-size: 15px;">
                                    <span>TRUYỆN TRANH</span>
                                </div>
                            </div>
                        </a>
                    </li>
                </ul>

            </div>

            <div class="tab-content">
                <div id="home" class="tab-pane active"><br>
                    <div class="book_list d-flex flex-nowrap" style="width: 100%; overflow-x: scroll; ">

                        <div style="width: 5% ;float: left; margin-top: 200px; margin-left: 1%;"
                             class="scroll-button left-button">
                            <button ng-click="prev(b,2)" class="btn"><i class="bi bi-chevron-left"
                                                                        style="font-size: 60px;"></i></button>
                        </div>

                        <div class="card_productCart" ng-repeat="x in booksCate | limitTo:a:b">
                            <div class="left_productCart" ng-click="detailBook(x.bookid)">
                                <img id="imgs2{{x.bookid}}" ng-src="" ng-init="setImage(x.bookid,2)" alt="shoe">
                                <i class="fa fa-long-arrow-left"></i>
                                <i class="fa fa-long-arrow-right"></i>
                            </div>
                            <div class="right_productCart" >
                                <div class="product-info_productCart">
                                    <div class="product-name" ng-click="detailBook(x.bookid)">
                                        <h1 class="h1_productCart">{{x.shoponlines.shopname}}</h1>
                                    </div>
                                    <div class="details_productCart" ng-click="detailBook(x.bookid)">
                                        <h2 class="h2_productCart">{{x.bookname}}</h2>
                                        <h4 class="h4_productCart"><span class="fa fa-dollar"></span>{{x.price | currency:"":0}} đ</h4>
                                        <h4 class="dis"><span class="fa fa-dollar"> Đã bán </span>{{x.quantitysold}}</h4>
                                    </div>
                                    <h3 class="h3_productCart">THỂ LOẠI</h3>
                                    <ul class="ul_productCart" ng-init="initCateByBookId(x.bookid)">
                                        <li class=" li_productCart"  ng-repeat="cate in listCate">{{cate.name}}</li>
                                    </ul>
                                    <span class="foot_productCart"  ng-disabled="x.isactive  == false || x.statues == 'Hết hàng' " ng-click="buyNow(x.bookid)"><i class="fa fa-shopping-bag"></i>Mua Ngay</span>
                                    <a class="foot_productCart" ng-disabled="x.isactive  == false || x.statues == 'Hết hàng' "
                                    ng-click="cart.add(x.bookid)" id="nyan-btn" ><i class="fa fa-shopping-cart"></i>Thêm vào giỏ hàng</a>
                                </div>
                            </div>
                        </div>

                        <div style="width: 5% ;float: left; margin-top: 200px; margin-left: 1%;"
                             class="scroll-button right-button">
                            <button class="btn" ng-click="next(b,2)"><i class="bi bi-chevron-right"
                                                                        style="font-size: 60px;"></i></button>
                        </div>
                    </div>
                </div>
                <div id="menu1" class="tab-pane fade" style="clear: both;margin: auto;"><br>
                    <div class="book_list d-flex flex-nowrap" style="width: 100%; overflow-x: scroll; ">
                        <div style="width: 5% ;float: left; margin-top: 200px; margin-left: 1%;"
                             class="scroll-button left-button">
                            <button ng-click="prev(b,4)" class="btn"><i class="bi bi-chevron-left"
                                                                        style="font-size: 60px;"></i></button>
                        </div>

                        <div class="card_productCart" ng-repeat="x in booksCate | limitTo:a:b">
                            <div class="left_productCart" ng-click="detailBook(x.bookid)">
                                <img id="imgs4{{x.bookid}}" ng-src="" ng-init="setImage(x.bookid,2)" alt="shoe">
                                <i class="fa fa-long-arrow-left"></i>
                                <i class="fa fa-long-arrow-right"></i>
                            </div>
                            <div class="right_productCart" >
                                <div class="product-info_productCart">
                                    <div class="product-name" ng-click="detailBook(x.bookid)">
                                        <h1 class="h1_productCart">{{x.shoponlines.shopname}}</h1>
                                    </div>
                                    <div class="details_productCart" ng-click="detailBook(x.bookid)">
                                        <h2 class="h2_productCart">{{x.bookname}}</h2>
                                        <h4 class="h4_productCart"><span class="fa fa-dollar"></span>{{x.price | currency:"":0}} đ</h4>
                                        <h4 class="dis"><span class="fa fa-dollar"> Đã bán </span>{{x.quantitysold}}</h4>
                                    </div>
                                    <h3 class="h3_productCart">THỂ LOẠI</h3>
                                    <ul class="ul_productCart" ng-init="initCateByBookId(x.bookid)">
                                        <li class=" li_productCart"  ng-repeat="cate in listCate">{{cate.name}}</li>
                                    </ul>
                                    <span class="foot_productCart"><i class="fa fa-shopping-bag"></i>Mua ngays</span>
                                    <span class="foot_productCart" ng-click="setQuantityPro('x.bookid')"><i class="fa fa-shopping-cart"></i>Thêm vào giỏ hàng</span>
                                </div>
                            </div>
                        </div>
 
                        <div style="width: 5% ;float: left; margin-top: 200px; margin-left: 1%;"
                             class="scroll-button right-button">
                            <button class="btn" ng-click="next(b,4)"><i class="bi bi-chevron-right"
                                                                        style="font-size: 60px;"></i></button>
                        </div>
                    </div>
                </div>
                <div id="menu2" class="tab-pane fade" style="clear: both;"><br>
                    <div class="book_list d-flex flex-nowrap" style="width: 100%; overflow-x: scroll; ">

                        <div style="width: 5% ;float: left; margin-top: 200px; margin-left: 1%;"
                             class="scroll-button left-button">
                            <button ng-click="prev(b,7)" class="btn"><i class="bi bi-chevron-left"
                                                                        style="font-size: 60px;"></i></button>
                        </div>
                        <div class="card_productCart" ng-repeat="x in booksCate | limitTo:a:b">
                            <div class="left_productCart" ng-click="detailBook(x.bookid)">
                                <img id="imgs7{{x.bookid}}" ng-src="" ng-init="setImage(x.bookid,2)" alt="shoe">
                                <i class="fa fa-long-arrow-left"></i>
                                <i class="fa fa-long-arrow-right"></i>
                            </div>
                            <div class="right_productCart" >
                                <div class="product-info_productCart">
                                    <div class="product-name" ng-click="detailBook(x.bookid)">
                                        <h1 class="h1_productCart">{{x.shoponlines.shopname}}</h1>
                                    </div>
                                    <div class="details_productCart" ng-click="detailBook(x.bookid)">
                                        <h2 class="h2_productCart">{{x.bookname}}</h2>
                                        <h4 class="h4_productCart"><span class="fa fa-dollar"></span>{{x.price | currency:"":0}} đ</h4>
                                        <h4 class="dis"><span class="fa fa-dollar"> Đã bán </span>{{x.quantitysold}}</h4>
                                    </div>
                                    <h3 class="h3_productCart">THỂ LOẠI</h3>
                                    <ul class="ul_productCart" ng-init="initCateByBookId(x.bookid)">
                                        <li class=" li_productCart"  ng-repeat="cate in listCate">{{cate.name}}</li>
                                    </ul>
                                    <span class="foot_productCart"><i class="fa fa-shopping-bag"></i>Mua ngay</span>
                                    <span class="foot_productCart" ng-click="setQuantityPro('x.bookid')"><i class="fa fa-shopping-cart"></i>Thêm vào giỏ hàng</span>
                                </div>
                            </div>
                        </div>

                        <div style="width: 5% ;float: left; margin-top: 200px; margin-left: 1%;"
                             class="scroll-button right-button">
                            <button class="btn" ng-click="next(b,7)"><i class="bi bi-chevron-right"
                                                                        style="font-size: 60px;"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-4" style="clear: both;">
        <div class="banner_articical">
            <img th:src="@{/Client/images/banner_ariticial.jpg}" style="width: 100%; height: 100%;" alt="">
        </div>
        <div class="cart_articical">
            <div class="cart_title">
                <p style="padding-top: 50px;">Sản Phẩm Bán Chạy Nhất</p>
            </div>
            <div class="cart_body">
                <div class="contain">
                    <div class="container-fliud">
                        <div class="row">
                            <div class="col-sm-1 text-left">
                                <div class="d-flex flex-column" style="margin-top: 100px; margin-left: 20px;">
                                    <div class="py-1" th:each="image : ${listImage}">
                                        <a style="width: 100px; height: 120px;"><img th:if="image.name !=null"
                                            th:src="@{|/Client/images/${image.name}|}"
                                            style="width: 90px; height: 120px; margin: auto;" alt="">
                                        </a>
                                    </div>

                                </div>
                            </div>
                            <div class="preview col-md-5 text-center">
                                <div class="tab-content">
                                    <div class="tab-pane active" id="pic-1"><img
                                            style="max-width: 100%; height: 693px; "
                                            th:src="@{|/Client/images/${item.listOfImagebooks.get(0).name}|}"></div>
                                </div>
                            </div>
                            <div class="details col-md-6">
                                <p>Nhiều tác giả</p>
                                <p class="product-title h3" style="margin-top: -15px;text-align: left" th:text="${item.bookname}">
                                </p>
                                <div class="rating">
                                    <div class="stars">
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-fill"></i></span>
                                        <span><i class="bi bi-star-half"></i></i></span>
                                        <span class="review-no ms-2 text-dark">41 reviews</span>
                                    </div>
                                </div>
                                <div class="btn btn-warning" th:text="${item.statues}"></div>
                                <b style="font-size: 20px;" class="mx-3"><span th:text="${item.productviews}"></span>
                                    <span>lượt xem</span></b>
                                <form action="" class="form-checked m-3">
                                    <input type="radio" th:checked="${item.isactive == true}  " name="isActive"> Đang
                                    bán
                                    <input type="radio" th:checked="${item.isactive  == false}  " name="isActive"> Tạm
                                    ngưng
                                </form>
                                <p class="product-description" id="content11"
                                ng-init="loadContent(11)">
                                   
                                </p>
                                <h4 class="price">Giá: <span
                                        th:text="${#numbers.formatDecimal(item.price, 0, 'POINT', 0, 'COMMA')} +'₫'"></span>
                                </h4>
                                <input  class="mt-2" type="number" id="quantity" ng-model="quantityPro" ng-init="1" min="1" max="5">
                                <hr class="my-4">
                                <div class="action">
                                    <button th:disabled="${item.isactive  == false} OR ${item.statues == 'Hết hàng'} "
                                            th:attr="ng-click=@{|cart.add(${item.bookid})|}" onclick="as()"
                                            class="button_all_orange">Thêm vào giỏ
                                    </button>

                                    <button th:disabled="${item.isactive  == false} OR ${item.statues == 'Hết hàng'} "
                                            th:attr="ng-click=@{|buyNow(${item.bookid})|}" class="button_all_none">Mua
                                        Ngay
                                    </button>
                                </div>
                                <hr class="my-5">

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div style="clear: both;">
        <p style="padding-top: 50px; font-size: 60px;font-family: initial;text-align: center;"><a href="#"
                                                                                                  style="color: black; text-decoration: none; padding-bottom: 100px;">+25K
            Người mua đã yêu thích chúng tôi</a></p>
    </div>
    <audio id="nyan" src="https://designshack.net/tutorialexamples/html5-audio-player/media/evidence-song.mp3" preload="metadata" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    </div>
    <script th:src="@{/Client/Js/cart/cart.js}"></script>
    <script src="../../../static/Client/Js/cart/cart.js"></script>
    <script>
        var nyan = document.getElementById('nyan');
        var nyanBtn = document.getElementById('nyan-btn');

        function playPause(song){
            if (song.paused && song.currentTime >= 0 && !song.ended) {
                song.play();
            } else {
                song.pause();
            }
        }

        function reset(btn, song){
            if(btn.classList.contains('playing')){
                btn.classList.toggle('playing');
            }
            song.pause();
            song.currentTime = 0;
        }

        function progress(btn, song){
            setTimeout(function(){
                var end = song.duration;
                var current = song.currentTime;
                var percent = current/(end/100);
                //check if song is at the end
                if(current==end){
                    reset(btn, song);
                }
                //set inset box shadow
                btn.style.boxShadow = "inset " + btn.offsetWidth * (percent/100) + "px 0px 0px 0px rgba(0,0,0,0.125)"
                //call function again
                progress(btn, song);
            }, 1000);
        }

        nyanBtn.addEventListener('click', function(){
            nyanBtn.classList.toggle('playing');
            playPause(nyan);
            progress(nyanBtn, nyan);
        });
    </script>
</main>
</body>


</html>